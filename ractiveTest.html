<!doctype html>
<html lang='en-GB'>
<head>
  <meta charset='utf-8'>
  <title>Ractive test</title>
  <link href="stylesheets/main.css" rel='stylesheet' >

  <script src="jquery.js" type="text/javascript"/>
  <script>
    // Using the core $.ajax() method
$.ajax({
    // the URL for the request
    url: "https://api.twitter.com/1.1/statuses/user_timeline.json",

    // the data to send (will be converted to a query string)
    data: {
        id: 123
    },

    // whether this is a POST or GET request
    type: "GET",

    // the type of data we expect back
    dataType : "json",

    // code to run if the request succeeds;
    // the response is passed to the function
    success: function( json ) {
        $( "<h1/>" ).text( json.title ).appendTo( "body" );
        $( "<div class=\"content\"/>").html( json.html ).appendTo( "body" );
    },

    // code to run if the request fails; the raw request and
    // status codes are passed to the function
    error: function( xhr, status, errorThrown ) {
        alert( "Sorry, there was a problem!" );
        console.log( "Error: " + errorThrown );
        console.log( "Status: " + status );
        console.dir( xhr );
    },

    // code to run regardless of success or failure
    complete: function( xhr, status ) {
        alert( "The request is complete!" );
    }
});
  </script>
</head>

<body>
  <h1>Dan's Ractive Twitter Test</h1>

  <div id='container'></div>

  <script id='template' type='text/ractive'>
    <div class="h2container">
    <h2>
      <span>Tweets {{twitter[twitter.length - 1].user.statuses_count}}</span>|

      <span>Followers {{twitter[twitter.length - 1].user.followers_count}}</span>|
      <span>Favorites {{twitter[twitter.length - 1].user.favourites_count}}</span>
    </h2>
    </div>

    {{#each twitter}}
      <div class="tweetcontainer">
        <div>
          <span><img src="{{user.profile_image_url}}" alt="User Image" style="width:10px;height:10px"></span>
          <span id="screenname">{{user.screen_name}}</span>
          <span id="name">@{{user.name}}</span>
           -
          <span>{{created_at}}</span>
        </div>

        <div>
          <span>{{text}}</span><span>{{entities.hashtags}}</span>
        </div>
      </div>

    {{/each}}




  </script>
  <script src='http://cdn.ractivejs.org/latest/ractive.min.js'></script>
  <script>
  var ractive, tweets;

  tweets = [
  {
      "coordinates": null,
      "favorited": false,
      "truncated": false,
      "created_at": "Wed Aug 29 17:12:58 +0000 2012",
      "id_str": "240859602684612608",
      "entities": {
          "urls": [
              {
                  "expanded_url": "https://dev.twitter.com/blog/twitter-certified-products",
                  "url": "https://t.co/MjJ8xAnT",
                  "indices": [
                      52,
                      73
                  ],
                  "display_url": "dev.twitter.com/blog/twitter-câ€¦"
              }
          ],
          "hashtags": [],
          "user_mentions": []
      },
      "in_reply_to_user_id_str": null,
      "contributors": null,
      "text": "Introducing the Twitter Certified Products Program: https://t.co/MjJ8xAnT",
      "retweet_count": 121,
      "in_reply_to_status_id_str": null,
      "id": 240859602684612600,
      "geo": null,
      "retweeted": false,
      "possibly_sensitive": false,
      "in_reply_to_user_id": null,
      "place": null,
      "user": {
          "profile_sidebar_fill_color": "DDEEF6",
          "profile_sidebar_border_color": "C0DEED",
          "profile_background_tile": false,
          "name": "Twitter API",
          "profile_image_url": "http://a0.twimg.com/profile_images/2284174872/7df3h38zabcvjylnyfe3_normal.png",
          "created_at": "Wed May 23 06:01:13 +0000 2007",
          "location": "San Francisco, CA",
          "follow_request_sent": false,
          "profile_link_color": "0084B4",
          "is_translator": false,
          "id_str": "6253282",
          "entities": {
              "url": {
                  "urls": [
                      {
                          "expanded_url": null,
                          "url": "http://dev.twitter.com",
                          "indices": [
                              0,
                              22
                          ]
                      }
                  ]
              },
              "description": {
                  "urls": []
              }
          },
          "default_profile": true,
          "contributors_enabled": true,
          "favourites_count": 24,
          "url": "http://dev.twitter.com",
          "profile_image_url_https": "https://si0.twimg.com/profile_images/2284174872/7df3h38zabcvjylnyfe3_normal.png",
          "utc_offset": -28800,
          "id": 6253282,
          "profile_use_background_image": true,
          "listed_count": 10775,
          "profile_text_color": "333333",
          "lang": "en",
          "followers_count": 1212864,
          "protected": false,
          "notifications": null,
          "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png",
          "profile_background_color": "C0DEED",
          "verified": true,
          "geo_enabled": true,
          "time_zone": "Pacific Time (US & Canada)",
          "description": "The Real Twitter API. I tweet about API changes, service issues and happily answer questions about Twitter and our API. Don't get an answer? It's on my website.",
          "default_profile_image": false,
          "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png",
          "statuses_count": 3333,
          "friends_count": 31,
          "following": null,
          "show_all_inline_media": false,
          "screen_name": "twitterapi"
      },
      "in_reply_to_screen_name": null,
      "source": "<a href=\"//sites.google.com/site/yorufukurou/\"\" rel=\"\"nofollow\"\">YoruFukurou</a>",
      "in_reply_to_status_id": null
  },
  {
      "coordinates": null,
      "favorited": false,
      "truncated": false,
      "created_at": "Sat Aug 25 17:26:51 +0000 2012",
      "id_str": "239413543487819778",
      "entities": {
          "urls": [
              {
                  "expanded_url": "https://dev.twitter.com/issues/485",
                  "url": "https://t.co/p5bOzH0k",
                  "indices": [
                      97,
                      118
                  ],
                  "display_url": "dev.twitter.com/issues/485"
              }
          ],
          "hashtags": [],
          "user_mentions": []
      },
      "in_reply_to_user_id_str": null,
      "contributors": null,
      "text": "We are working to resolve issues with application management & logging in to the dev portal: https://t.co/p5bOzH0k ^TS",
      "retweet_count": 105,
      "in_reply_to_status_id_str": null,
      "id": 239413543487819780,
      "geo": null,
      "retweeted": false,
      "possibly_sensitive": false,
      "in_reply_to_user_id": null,
      "place": null,
      "user": {
          "profile_sidebar_fill_color": "DDEEF6",
          "profile_sidebar_border_color": "C0DEED",
          "profile_background_tile": false,
          "name": "Twitter API",
          "profile_image_url": "http://a0.twimg.com/profile_images/2284174872/7df3h38zabcvjylnyfe3_normal.png",
          "created_at": "Wed May 23 06:01:13 +0000 2007",
          "location": "San Francisco, CA",
          "follow_request_sent": false,
          "profile_link_color": "0084B4",
          "is_translator": false,
          "id_str": "6253282",
          "entities": {
              "url": {
                  "urls": [
                      {
                          "expanded_url": null,
                          "url": "http://dev.twitter.com",
                          "indices": [
                              0,
                              22
                          ]
                      }
                  ]
              },
              "description": {
                  "urls": []
              }
          },
          "default_profile": true,
          "contributors_enabled": true,
          "favourites_count": 24,
          "url": "http://dev.twitter.com",
          "profile_image_url_https": "https://si0.twimg.com/profile_images/2284174872/7df3h38zabcvjylnyfe3_normal.png",
          "utc_offset": -28800,
          "id": 6253282,
          "profile_use_background_image": true,
          "listed_count": 10775,
          "profile_text_color": "333333",
          "lang": "en",
          "followers_count": 1212864,
          "protected": false,
          "notifications": null,
          "profile_background_image_url_https": "https://si0.twimg.com/images/themes/theme1/bg.png",
          "profile_background_color": "C0DEED",
          "verified": true,
          "geo_enabled": true,
          "time_zone": "Pacific Time (US & Canada)",
          "description": "The Real Twitter API. I tweet about API changes, service issues and happily answer questions about Twitter and our API. Don't get an answer? It's on my website.",
          "default_profile_image": false,
          "profile_background_image_url": "http://a0.twimg.com/images/themes/theme1/bg.png",
          "statuses_count": 3333,
          "friends_count": 31,
          "following": null,
          "show_all_inline_media": false,
          "screen_name": "twitterapi"
      },
      "in_reply_to_screen_name": null,
      "source": "<a href=\"//sites.google.com/site/yorufukurou/\"\" rel=\"\"nofollow\"\">YoruFukurou</a>",
      "in_reply_to_status_id": null
  }
  ]

    var ractive = new Ractive({
      el: 'container',
      template: '#template',
      data: {twitter: tweets

       }
    });


  </script>
</body>
